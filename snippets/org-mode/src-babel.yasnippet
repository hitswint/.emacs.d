# -*- mode: snippet -*-
# key: babel-src
# name: babel-src
# --
${1::file ${2:$$(unless yas-modified-p (unless (file-exists-p ".ob-pic") (make-directory ".ob-pic")) (concat "./.ob-pic/" (make-temp-name (concat (file-name-base (or (buffer-file-name) (buffer-name))) "_" (format-time-string "%Y%m%d_"))) ".png"))}} ${3::var default_directory=`,default-directory tab=${4:$$(unless yas-modified-p (ivy-read "Choose var: " (cons "0" (org-ref-label-list))))}} ${5::session ${6:$$(unless yas-modified-p (org-element-property :language (org-element-at-point)))}} :cache yes :tangle yes :results ${7:$$(unless yas-modified-p (ivy-read "Choose results: " '("output" "value table")))} :exports both